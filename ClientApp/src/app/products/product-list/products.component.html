<title>Products</title>

<div class="products-container">
  <div class="products-header">
    <h1>Products</h1>
  </div>
  <div class="products-content">
    <div class="products-list">
      <div>
        <input
          class="filter"
          type="text"
          placeholder="Search..."
          (keyup)="updateFilter($event)"
        />
        <ngx-datatable
          #myTable
          class="material expandable"
          [columns]="columns"
          [columnMode]="'forse'"
          [headerHeight]="50"
          [footerHeight]="50"
          [rowHeight]="50"
          [limit]="10"
          [rows]="products"
        >
          <ngx-datatable-column
            name="Name"
            prop="name"
            [canAutoResize]="true"
          ></ngx-datatable-column>
          <ngx-datatable-column
            name="UnitPrice"
            prop="unitPrice"
            [canAutoResize]="true"
          ></ngx-datatable-column>
          <ngx-datatable-column
            name="Stock"
            prop="stock"
            [canAutoResize]="true"
          ></ngx-datatable-column>
          <ngx-datatable-column [canAutoResize]="true">
            <ng-template ngx-datatable-cell-template let-row="row">
              <a class="btn-edit" [routerLink]="['/product/', row.id]"
                ><fa name="pencil"></fa
              ></a>
              <a class="btn-delete" (click)="openModal('custom-modal-1', row)"
                ><fa name="times-circle"></fa
              ></a>
            </ng-template>
          </ngx-datatable-column>
        </ngx-datatable>
      </div>
    </div>
    <div class="product-add">
      <a class="btn-add" [routerLink]="['/product']">
        <fa name="plus"></fa>
      </a>
    </div>
    <modal-dialog id="custom-modal-1">
      <h2>Delete Product</h2>
      <hr/>
      <p>Are you sure you want to delete this product?</p>
      <button class="modal-btn-cancel" (click)="closeModal('custom-modal-1')">Cancel</button>
      <button class="modal-btn-confirm" (click)="closeModalAndDelete('custom-modal-1')">Delete</button>
    </modal-dialog>
  </div>
</div>
